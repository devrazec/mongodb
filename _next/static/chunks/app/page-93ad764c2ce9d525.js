(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6560:(e,l,t)=>{"use strict";t.d(l,{default:()=>k});var o=t(5155),i=t(2115),r=t(6100),n=t(29),s=t(5003),a=t(3026);let d=i.memo(()=>{let{darkMode:e,setDarkMode:l,mobileDevice:t,setMobileDevice:d,mobilePanel:c,setMobilePanel:x}=(0,i.useContext)(r.F);return(0,o.jsxs)(s.B,{visible:c,onHide:()=>x(!1),position:"left",showCloseIcon:!1,style:{width:"80%",maxWidth:"250px",background:"#00473C",color:"white",padding:0},children:[(0,o.jsxs)("div",{style:{background:"#003C32",color:"white",padding:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:(0,o.jsx)(a._,{src:"/mongodb/img/logo3.png",alt:"Logo",height:"40px"})}),(0,o.jsx)(n.$,{icon:"pi pi-times",rounded:!0,outlined:!0,className:"h-2rem w-2rem p-sidebar-icon p-link",onClick:()=>x(!1),style:{color:"white",marginRight:"0.5rem",fontSize:"1.3rem"}})]}),(0,o.jsx)("div",{style:{padding:"1.5rem"},children:(0,o.jsxs)("ul",{style:{listStyle:"none",padding:0,margin:0},children:[(0,o.jsx)("li",{className:"p-mb-3 py-2",children:"Deliver to"}),(0,o.jsx)("li",{className:"p-mb-3 py-2",children:"Language"}),(0,o.jsx)("li",{className:"p-mb-3 py-2",children:"Hello, sign in"}),(0,o.jsx)("li",{className:"p-mb-3 py-2",children:"Returns"})]})})]})});var c=t(4477),x=t(1574),p=t(317),h=t(917);let m=i.memo(()=>{let{darkMode:e,setDarkMode:l,selectedLanguage:t,setSelectedLanguage:n,language:s,setLanguage:a}=(0,i.useContext)(r.F);return(0,o.jsx)("div",{className:"flex align-items-center gap-1",children:(0,o.jsx)(c.A,{value:t,onChange:e=>{n(e.target.value)},displayEmpty:!0,renderValue:()=>{let e=s.find(e=>e.code===t);return(0,o.jsxs)(x.A,{sx:{display:"flex",alignItems:"center"},children:[e&&(0,o.jsx)("span",{className:e.icon,style:{fontSize:18}}),(0,o.jsx)(p.A,{sx:{fontWeight:600,paddingLeft:"5px",color:"white"},children:e.code})]})},sx:{width:90,"& .MuiSelect-select":{display:"flex",alignItems:"center"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiSelect-icon":{color:"white"}},children:s.map(e=>(0,o.jsx)(h.A,{value:e.code,children:(0,o.jsxs)(x.A,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)("span",{className:e.icon,style:{fontSize:24,marginRight:8}}),(0,o.jsx)(p.A,{children:e.name})]})},e.code))})})});var u=t(6097);let g=i.memo(()=>{let{dataProduct:e,selectedProductName:l,setSelectedProductName:t,setSelectedProduct:s,setHoverProductId:a,filteredProduct:d,setFilteredProduct:c}=(0,i.useContext)(r.F),[x,p]=(0,i.useState)([]);return(0,o.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,o.jsx)(u.j,{value:l||"",suggestions:x,completeMethod:e=>{var l;let o=(null==(l=e.query)?void 0:l.toLowerCase())||"";if(t(e.query),!o||!d)return void p([]);p(d.filter(e=>e.name.toLowerCase().includes(o)).map(e=>e.name))},placeholder:"Search Products",className:"w-full",inputClassName:"p-inputtext-lg py-2 text-lg border-round-md pl-2 pr-8 w-full",onChange:e=>(e=>{t(e);let l=d.find(l=>l.name===e);l&&(s(l),a(l.id))})(e.value)}),l&&(0,o.jsx)(n.$,{icon:"pi pi-times",className:"p-button-rounded p-button-text",onClick:()=>{t(""),s(null),p([]),a(null)},style:{position:"absolute",top:"50%",right:"0.5rem",transform:"translateY(-50%)",padding:"0.25rem 0.5rem",color:"#057642"}})]})});var b=t(7919);let C=i.memo(()=>{let{darkMode:e,setDarkMode:l,mobileDevice:t,setMobileDevice:n,mobilePanel:s,setMobilePanel:a,selectedLanguage:d,setSelectedLanguage:c,language:x,setLanguage:p,selectedProduct:h,setSelectedProduct:m,product:u,setProduct:g,selectedCity:C,setSelectedCity:j,city:y,setCity:f}=(0,i.useContext)(r.F);return(0,o.jsx)("div",{className:"p-field",children:(0,o.jsx)(b.K,{value:C,onChange:e=>j(e.value),options:y,optionLabel:"label",showClear:!0,placeholder:"City",selectedItemsLabel:"City ({0})",maxSelectedLabels:0,panelStyle:{zIndex:9999},style:{borderRadius:"999px",backgroundColor:C.length>0?"#057642":"#00473C",borderColor:"#ccc",border:"1px solid white",color:"white",height:"40px",minWidth:"190px"},itemTemplate:e=>(0,o.jsxs)("div",{style:{padding:"0px 8px",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)("span",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e.colorCode?String(e.colorCode):"#CCCCCC",border:"1px solid white"}}),(0,o.jsx)("span",{children:e.label})]})})})}),j=i.memo(()=>{let{darkMode:e,setDarkMode:l,mobileDevice:t,setMobileDevice:n,mobilePanel:s,setMobilePanel:a,selectedLanguage:d,setSelectedLanguage:c,language:x,setLanguage:p,selectedProduct:h,setSelectedProduct:m,product:u,setProduct:g,selectedCity:C,setSelectedCity:j,city:y,setCity:f,selectedCategory:v,setSelectedCategory:w,category:N,setCategory:k}=(0,i.useContext)(r.F);return(0,o.jsx)("div",{className:"p-field",children:(0,o.jsx)(b.K,{value:v,onChange:e=>w(e.value),options:N,optionLabel:"label",showClear:!0,placeholder:"Category",selectedItemsLabel:"Category ({0})",maxSelectedLabels:0,panelStyle:{zIndex:9999},style:{borderRadius:"999px",backgroundColor:v.length>0?"#057642":"#00473C",borderColor:"#ccc",border:"1px solid white",color:"white",height:"40px",minWidth:"190px"},itemTemplate:e=>(0,o.jsx)("div",{style:{padding:"0px 8px",display:"flex",alignItems:"center",gap:"0.5rem"},children:(0,o.jsx)("span",{children:e.label})})})})}),y=i.memo(()=>{let{selectedColor:e,setSelectedColor:l,color:t}=(0,i.useContext)(r.F);return(0,o.jsx)("div",{className:"p-field",children:(0,o.jsx)(b.K,{value:e,onChange:e=>l(e.value),options:t,optionLabel:"label",showClear:!0,placeholder:"Color",selectedItemsLabel:"Color ({0})",maxSelectedLabels:0,panelStyle:{zIndex:9999},style:{borderRadius:"999px",backgroundColor:e.length>0?"#057642":"#00473C",borderColor:"#ccc",border:"1px solid white",color:"white",height:"40px",minWidth:"190px"},itemTemplate:e=>(0,o.jsxs)("div",{style:{padding:"0px 8px",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)("span",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e.colorCode?String(e.colorCode):"#CCCCCC",border:"1px solid white"}}),(0,o.jsx)("span",{children:e.label})]})})})}),f=i.memo(()=>{let{selectedGender:e,setSelectedGender:l,gender:t}=(0,i.useContext)(r.F);return(0,o.jsx)("div",{className:"p-field",children:(0,o.jsx)(b.K,{value:e,onChange:e=>l(e.value),options:t,optionLabel:"label",showClear:!0,placeholder:"Gender",selectedItemsLabel:"Gender ({0})",maxSelectedLabels:0,panelStyle:{zIndex:9999},style:{borderRadius:"999px",backgroundColor:e.length>0?"#057642":"#00473C",borderColor:"#ccc",border:"1px solid white",color:"white",height:"40px",minWidth:"190px"},itemTemplate:e=>(0,o.jsxs)("div",{style:{padding:"0px 8px",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsx)("span",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e.colorCode?String(e.colorCode):"#CCCCCC",border:"1px solid white"}}),(0,o.jsx)("span",{children:e.label})]})})})}),v=i.memo(()=>{let{sortField:e,setSortField:l,sortOrder:t,setSortOrder:s}=(0,i.useContext)(r.F),a=o=>{e===o?(l(o),s(1===t?-1:1)):(l(o),s(1))};return(0,o.jsxs)("div",{className:"card flex justify-content-center gap-3",children:[(0,o.jsx)(n.$,{type:"button",label:"Name",style:{borderRadius:"999px",backgroundColor:"name"===e?"#057642":"#00473C",borderColor:"#ccc",border:"1px solid white",color:"white",height:"40px",minWidth:"50px"},icon:1===t&&"name"===e?"pi pi-sort-alpha-down":"pi pi-sort-alpha-up",onClick:()=>a("name")}),(0,o.jsx)(n.$,{type:"button",label:"Price",style:{borderRadius:"999px",backgroundColor:"price"===e?"#057642":"#00473C",borderColor:"#ccc",border:"1px solid white",color:"white",height:"40px",minWidth:"50px"},icon:1===t&&"price"===e?"pi pi-sort-amount-down":"pi pi-sort-amount-up",onClick:()=>a("price")})]})}),w=i.memo(()=>{let{darkMode:e,setDarkMode:l,mobileDevice:t,setMobileDevice:s,mobilePanel:a,setMobilePanel:d,selectedLanguage:c,setSelectedLanguage:x,language:p,setLanguage:h,selectedProduct:m,setSelectedProduct:u,selectedCity:g,setSelectedCity:b,city:C,setCity:j,selectedCategory:y,setSelectedCategory:f,category:v,setCategory:w,selectedColor:N,setSelectedColor:k,color:S,setColor:M,selectedGender:A,setSelectedGender:L,gender:I,setGender:F,geoZoomView:R,setGeoZoomView:P,geoInitialView:W,setGeoInitialView:D,geoPortugal:O,setGeoPortugal:E,geoLisbon:T,setGeoLisbon:_,geoPorto:z,setGeoPorto:$,geoFaro:B,setGeoFaro:G,geoCoimbra:K,setGeoCoimbra:q,geoBraga:H,setGeoBraga:V,geoBraganca:Y,setGeoBraganca:J,geoLeiria:X,setGeoLeiria:Q,geoGuarda:U,setGeoGuarda:Z,geoBeja:ee,setGeoBeja:el,geoViana:et,setGeoViana:eo,geoVilaReal:ei,setGeoVilaReal:er,geoSetubal:en,setGeoSetubal:es,geoCityBounds:ea,setGeoCityBounds:ed,storeProduct:ec,setStoreProduct:ex,dataProduct:ep,setDataProduct:eh,dataProductName:em,setDataProductName:eu,dataSellerName:eg,setDataSellerName:eb,dataBroker:eC,setDataBroker:ej,sortField:ey,setSortField:ef,sortOrder:ev,setSortOrder:ew,productLayout:eN,setProductLayout:ek,filteredProduct:eS,setFilteredProduct:eM,mapPanel:eA,setMapPanel:eL}=(0,i.useContext)(r.F);return(0,o.jsxs)("div",{className:"card flex justify-content-center gap-3",children:[(0,o.jsx)(n.$,{type:"button",label:"",style:{borderRadius:"999px",backgroundColor:eA?"#057642":"#00473C",borderColor:"#ccc",border:"1px solid white",color:"white",height:"40px",minWidth:"50px"},icon:"pi pi-map",onClick:()=>eL(!eA)}),(0,o.jsx)(n.$,{type:"button",label:"",style:{borderRadius:"999px",backgroundColor:"list"===eN?"#057642":"#00473C",borderColor:"#ccc",border:"1px solid white",color:"white",height:"40px",minWidth:"50px"},icon:"pi pi-list",onClick:()=>ek("list")}),(0,o.jsx)(n.$,{type:"button",label:"",style:{borderRadius:"999px",backgroundColor:"grid"===eN?"#057642":"#00473C",borderColor:"#ccc",border:"1px solid white",color:"white",height:"40px",minWidth:"50px"},icon:"pi pi-th-large",onClick:()=>ek("grid")})]})}),N=i.memo(()=>{let{darkMode:e,setDarkMode:l,mobileDevice:t,setMobileDevice:n,mobilePanel:s,setMobilePanel:a,selectedLanguage:d,setSelectedLanguage:c,language:p,setLanguage:h,selectedProduct:m,setSelectedProduct:u,product:g,setProduct:b,filteredProduct:N}=(0,i.useContext)(r.F);return(0,o.jsxs)(x.A,{sx:{width:"100%",borderBottom:"1px solid #014034",display:"flex",alignItems:"center",gap:3,paddingLeft:2,paddingTop:1,paddingBottom:1,bgcolor:"#00473C",overflowX:{xs:"auto",sm:"auto"},scrollbarWidth:"thin","&::-webkit-scrollbar":{height:6}},children:[(0,o.jsx)(w,{}),(0,o.jsx)("div",{className:"font-bold text-white",children:"Sort by:"}),(0,o.jsx)(v,{}),(0,o.jsx)("div",{className:"font-bold text-white",children:"Filter by:"}),(0,o.jsx)(f,{}),(0,o.jsx)(j,{}),(0,o.jsx)(y,{}),(0,o.jsx)(C,{}),(0,o.jsxs)("div",{className:"text-white",children:["Products: ",N.length]})]})}),k=i.memo(()=>{let{darkMode:e,setDarkMode:l,selectedLanguage:t,setSelectedLanguage:n,language:s,setLanguage:c,mobileDevice:x,setMobileDevice:p,mobilePanel:h,setMobilePanel:u}=(0,i.useContext)(r.F);return(0,o.jsxs)("div",{className:"surface-ground",children:[(0,o.jsxs)("div",{className:"w-full px-3 py-1 flex align-items-center justify-content-between",style:{background:"#003C32",color:"white"},children:[(0,o.jsxs)("div",{className:"flex align-items-center gap-3",children:[(0,o.jsx)("i",{className:"pi pi-bars text-2xl cursor-pointer block lg:hidden",onClick:()=>u(!h)}),(0,o.jsx)(a._,{src:x?"/mongodb/img/logo4.png":"/mongodb/img/logo3.png",alt:"logo",height:"40px"})]}),(0,o.jsxs)("div",{className:"hidden lg:flex text-sm flex-column ml-3 cursor-pointer",children:[(0,o.jsx)("div",{children:"Deliver to"}),(0,o.jsx)("div",{className:"font-bold",children:"Portugal"})]}),(0,o.jsx)("div",{className:"flex-1 mx-3",children:(0,o.jsx)("div",{className:"flex",children:(0,o.jsx)(g,{})})}),(0,o.jsxs)("div",{className:"hidden lg:flex align-items-center gap-5",children:[(0,o.jsx)(m,{}),(0,o.jsxs)("div",{className:"text-sm text-left cursor-pointer",children:[(0,o.jsx)("div",{children:"Hello, sign in"}),(0,o.jsx)("div",{className:"font-bold",children:"Account & Lists"})]}),(0,o.jsxs)("div",{className:"text-sm text-left cursor-pointer",children:[(0,o.jsx)("div",{children:"Returns"}),(0,o.jsx)("div",{className:"font-bold",children:"& Orders"})]}),(0,o.jsx)("i",{className:"pi pi-shopping-cart text-2xl cursor-pointer"})]}),(0,o.jsx)("i",{className:"pi pi-shopping-cart text-2xl cursor-pointer lg:hidden"})]}),(0,o.jsx)(N,{}),(0,o.jsx)(d,{})]})})},8188:(e,l,t)=>{"use strict";t.d(l,{default:()=>x});var o=t(5155),i=t(2115),r=t(1574),n=t(5970),s=t(6100),a=t(7909);let d=(0,a.default)(()=>Promise.all([t.e(773),t.e(631)]).then(t.bind(t,4631)),{loadableGenerated:{webpack:()=>[4631]},ssr:!1}),c=(0,a.default)(()=>Promise.all([t.e(716),t.e(761),t.e(342)]).then(t.bind(t,9342)),{loadableGenerated:{webpack:()=>[9342]},ssr:!1}),x=i.memo(()=>{let{darkMode:e,setDarkMode:l,mobileDevice:t,setMobileDevice:a,mobilePanel:x,setMobilePanel:p,selectedLanguage:h,setSelectedLanguage:m,language:u,setLanguage:g,selectedProduct:b,setSelectedProduct:C,product:j,setProduct:y,selectedCity:f,setSelectedCity:v,city:w,setCity:N,selectedCategory:k,setSelectedCategory:S,category:M,setCategory:A,selectedColor:L,setSelectedColor:I,color:F,setColor:R,selectedGender:P,setSelectedGender:W,gender:D,setGender:O,geoLocation:E,setGeoLocation:T,mapPanel:_,setMapPanel:z}=(0,i.useContext)(s.F);return(0,o.jsxs)(r.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},height:"calc(100vh - 128px)",width:"100%",gap:2,p:2,boxSizing:"border-box",overflow:"hidden"},children:[(0,o.jsx)(r.A,{sx:{flex:1,minWidth:0,height:{xs:"50%",md:"100%"}},children:(0,o.jsx)(n.A,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:(0,o.jsx)(r.A,{sx:{flex:1,overflowY:"auto"},children:(0,o.jsx)(d,{})})})}),_&&(0,o.jsx)(r.A,{sx:{flex:1,minWidth:0,height:{xs:"50%",md:"100%"}},children:(0,o.jsx)(n.A,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto"},children:(0,o.jsx)(r.A,{sx:{flex:1,position:"relative",overflow:"hidden"},children:(0,o.jsx)(c,{})})})})]})})},9093:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>s});var o=t(2115),i=t(6100),r=t(7768),n=t(9675);function s(){let{city:e,geoCityBounds:l,storeProduct:t,setDataProduct:s,setDataProductName:a,setDataSellerName:d,setDataBroker:c,mongodbImage:x,setMongodbImage:p}=(0,o.useContext)(i.F),[h,m]=(0,o.useState)(!1),{data:u}=(0,r.Fh)({dataSet:"Commodity",rowLength:1e4}),g=(0,o.useMemo)(()=>(null==u?void 0:u.rows)&&(null==t?void 0:t.length)&&(null==e?void 0:e.length)?u.rows.map(o=>{var i;let r=e[Math.floor(Math.random()*e.length)].label,{lat:s,lng:a}=function(e){let t=l[e];return t?{lat:Math.random()*(t.latMax-t.latMin)+t.latMin,lng:Math.random()*(t.lngMax-t.lngMin)+t.lngMin}:{lat:0,lng:0}}(r),d=t[Math.floor(Math.random()*t.length)];return{id:o.id||(0,n.A)(),name:d.name,seller:o.traderName,broker:o.brokerName,stock:o.quantity,price:"".concat(Number(o.unitPrice).toFixed(2)),tax:"".concat(Number(o.feeRate).toFixed(2)," %"),location:r,lat:s,lng:a,status:o.status,gender:d.gender,category:d.type,color:d.color,available:Math.random()>=.2,contract:o.contractType,email:o.traderEmail,address:o.counterPartyAddress,city:o.counterPartyCity,rate:o.rateType,country:o.counterPartyCountry.label,taxcode:o.taxCode,date:o.tradeDate.toLocaleDateString("pt-PT"),mongodbimage:".DS_Store"===(i=d.image)?null:x[i]||null,image:"/mongodb/img/product/".concat(d.image)}}):[],[u,e,t]),b=(0,o.useMemo)(()=>g?Array.from(new Set(g.map(e=>e.name).filter(Boolean))):[],[g]),C=(0,o.useMemo)(()=>Array.from(new Map(g.map(e=>{var l;return null==(l=e.seller)?void 0:l.trim()}).filter(Boolean).map(e=>[e.toLowerCase(),e])).values()),[g]),j=(0,o.useMemo)(()=>g?Array.from(new Map(g.map(e=>({broker:e.broker,address:e.address,city:e.city,country:e.country,email:e.email})).filter(e=>e.broker&&e.broker.length>0).map(e=>[e.broker.toLowerCase(),e])).values()):[],[g]);async function y(e,l){try{let t=await fetch("/mongodb/api/saveData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,fileName:l})}),o=await t.json();console.log("FILE SAVED:",o)}catch(e){console.error("SAVE FAILED:",e)}}return(0,o.useEffect)(()=>{var l;(null==u||null==(l=u.rows)?void 0:l.length)&&(null==e?void 0:e.length)&&(null==t?void 0:t.length)&&g.length&&b.length&&C.length&&j.length&&!h&&(console.log("✓ All data READY — generating final JSON..."),m(!0),s(g),a(b),d(C),c(j),y(g,"data-product.json"))},[u,e,t,g,b,C,j,h]),null}},9555:(e,l,t)=>{Promise.resolve().then(t.bind(t,8188)),Promise.resolve().then(t.bind(t,6560)),Promise.resolve().then(t.bind(t,9093))}},e=>{e.O(0,[515,754,561,100,441,255,358],()=>e(e.s=9555)),_N_E=e.O()}]);