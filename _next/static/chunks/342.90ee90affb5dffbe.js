(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{5603:()=>{},8682:()=>{},9342:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(5155),l=n(2115);let o=(0,l.createContext)(null);function a(){let e=(0,l.use)(o);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var i=n(5027),c=n.n(i);let u=(0,l.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:a,id:c,placeholder:u,style:s,whenReady:d,zoom:f,...p},m){let[y]=(0,l.useState)({className:a,id:c,style:s}),[h,g]=(0,l.useState)(null),v=(0,l.useRef)(void 0);(0,l.useImperativeHandle)(m,()=>h?.map??null,[h]);let x=(0,l.useCallback)(r=>{if(null!==r&&!v.current){let l=new i.Map(r,p);v.current=l,null!=n&&null!=f?l.setView(n,f):null!=e&&l.fitBounds(e,t),null!=d&&l.whenReady(d),g(Object.freeze({__version:1,map:l}))}},[]);(0,l.useEffect)(()=>()=>{h?.map.remove()},[h]);let b=h?l.createElement(o,{value:h},r):u??null;return l.createElement("div",{...y,ref:x},b)});var s=n(7650);function d(e,t){let n=(0,l.useRef)(t);(0,l.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function f(e,t){let n=(0,l.useRef)(void 0);(0,l.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function p(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function m(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function y(e,t){return null==t?function(t,n){let r=(0,l.useRef)(void 0);return r.current||(r.current=e(t,n)),r}:function(n,r){let o=(0,l.useRef)(void 0);o.current||(o.current=e(n,r));let a=(0,l.useRef)(n),{instance:i}=o.current;return(0,l.useEffect)(function(){a.current!==n&&(t(i,n,a.current),a.current=n)},[i,n,t]),o}}function h(e){return function(t){var n;let r=a(),o=e(p(t,r),r);return d(r.map,t.attribution),f(o.current,t.eventHandlers),n=o.current,(0,l.useEffect)(function(){return(r.layerContainer??r.map).addLayer(n.instance),function(){r.layerContainer?.removeLayer(n.instance),r.map.removeLayer(n.instance)}},[r,n]),o}}let g=function(e,t){var n;return n=h(y(e,t)),(0,l.forwardRef)(function(e,t){let{instance:r}=n(e).current;return(0,l.useImperativeHandle)(t,()=>r),null})}(function({url:e,...t},n){return m(new i.TileLayer(e,p(t,n)),n)},function(e,t,n){let{opacity:r,zIndex:l}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=l&&l!==n.zIndex&&e.setZIndex(l);let{url:o}=t;null!=o&&o!==n.url&&e.setUrl(o)});function v(){return a().map}n(5603),n(8682);var x=n(953),b=n(2669),C=n(645);let E=(0,C.A)((0,r.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay"),w=()=>{let e=v(),{darkMode:t,setDarkMode:n,mobileDevice:o,setMobileDevice:a,mobilePanel:i,setMobilePanel:u,selectedLanguage:s,setSelectedLanguage:d,language:f,setLanguage:p,selectedProduct:m,setSelectedProduct:y,product:h,setProduct:g,selectedCity:C,setSelectedCity:w,city:j,setCity:z,selectedCategory:N,setSelectedCategory:L,category:O,setCategory:R,selectedColor:S,setSelectedColor:B,color:k,setColor:F,selectedGender:I,setSelectedGender:T,gender:P,setGender:A,geoLocation:H,setGeoLocation:_,geoZoomView:M,setGeoZoomView:V,geoInitialView:D,setGeoInitialView:U}=(0,l.useContext)(x.F);return(0,l.useEffect)(()=>{let t=document.querySelector(".leaflet-control-zoom");if(!t)return;let n=c().DomUtil.create("a","leaflet-control-zoom-reset",t);n.href="#",n.title="Return to default view",n.classList.add("leaflet-control-zoom-in"),n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.width="30px",n.style.height="30px",n.style.fontSize="30px",n.style.cursor="pointer";let l=document.createElement("span");n.appendChild(l);let o=(0,b.createRoot)(l);return o.render((0,r.jsx)(E,{sx:{fontSize:20,color:"#000"}})),n.onclick=t=>{t.preventDefault(),e.setView(D,M,{animate:!0})},()=>{t.contains(n)&&t.removeChild(n),o.unmount()}},[e,U,V]),null},j=(0,C.A)((0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),z=()=>{let e=v();return(0,l.useEffect)(()=>{let t=document.querySelector(".leaflet-control-zoom");if(!t)return;let n=c().DomUtil.create("a","leaflet-control-zoom-location leaflet-control-zoom-in",t);n.href="#",n.title="Show my location",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.width="30px",n.style.height="30px",n.style.fontSize="30px",n.style.cursor="pointer";let l=document.createElement("span");n.appendChild(l);let o=(0,b.createRoot)(l);return o.render((0,r.jsx)(j,{sx:{fontSize:20,color:"#000"}})),n.onclick=t=>{if(t.preventDefault(),!navigator.geolocation)return void alert("Geolocation not supported");navigator.geolocation.getCurrentPosition(t=>{let{latitude:n,longitude:r}=t.coords;e.panTo([n,r],{animate:!0}),c().circleMarker([n,r],{radius:8,weight:2,color:"#00473C",fillColor:"#057642",fillOpacity:.7}).addTo(e)},()=>{alert("Unable to get your location")})},()=>{t.contains(n)&&t.removeChild(n),o.unmount()}},[e]),null},N=()=>{let e=v(),{darkMode:t,setDarkMode:n,mobileDevice:r,setMobileDevice:o,mobilePanel:a,setMobilePanel:i,selectedLanguage:u,setSelectedLanguage:s,language:d,setLanguage:f,selectedProduct:p,setSelectedProduct:m,product:y,setProduct:h,selectedCity:g,setSelectedCity:b,city:C,setCity:E,selectedCategory:w,setSelectedCategory:j,category:z,setCategory:N,selectedColor:L,setSelectedColor:O,color:R,setColor:S,selectedGender:B,setSelectedGender:k,gender:F,setGender:I,geoLocation:T,setGeoLocation:P,geoZoomView:A,setGeoZoomView:H,geoInitialView:_,setGeoInitialView:M,geoPortugal:V,setGeoPortugal:D}=(0,l.useContext)(x.F);return(0,l.useEffect)(()=>{if(!e)return;let t=V.features[0].geometry,n=[];if("Polygon"===t.type){let e=t.coordinates[0].map(e=>{let[t,n]=e;return[n,t]});n.push(e)}else"MultiPolygon"===t.type&&t.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,n]=e;return[n,t]});n.push(t)});let r=n.map(t=>c().polygon(t,{color:"#00473C",weight:3,fillColor:"#057642",fillOpacity:.25}).addTo(e));return()=>{r.forEach(t=>e.removeLayer(t))}},[e]),null},L=()=>{let e=v(),{geoPortugal:t,geoLisbon:n,geoPorto:r,geoFaro:o,geoCoimbra:a,geoBraga:i,geoBraganca:u,geoLeiria:s,geoGuarda:d,geoBeja:f,geoViana:p,geoVilaReal:m,geoSetubal:y}=(0,l.useContext)(x.F),h={Lisbon:n,Porto:r,Faro:o,Coimbra:a,Braga:i,Braganca:u,Leiria:s,Guarda:d,Beja:f,Viana:p,VilaReal:m,Setubal:y},g={Lisbon:"#1A73E8",Porto:"#E91E63",Faro:"#F57C00",Coimbra:"#43A047",Braga:"#8E24AA",Braganca:"#39CCCC",Leiria:"#0097A7",Guarda:"#C62828",Beja:"#6D4C41",Viana:"#0D47A1",VilaReal:"#7CB342",Setubal:"#673AB7"};return(0,l.useEffect)(()=>{if(!e)return;let t=[];return Object.keys(h).forEach(n=>{let r=h[n];if(!r)return;let l={color:g[n]||"#000",weight:3,fillColor:g[n]||"#000",fillOpacity:.1},o={weight:6,fillOpacity:.3},a=c().geoJSON(r,{style:l,onEachFeature:(t,r)=>{r.bindTooltip(n,{permanent:!1,direction:"top",opacity:.9}),r.on({mouseover:()=>{r.setStyle(o),c().Browser.ie||c().Browser.opera||c().Browser.edge||r.bringToFront()},mouseout:()=>{r.setStyle(l)},click:()=>{let t=r.getBounds();e.fitBounds(t,{padding:[30,30],maxZoom:11,animate:!0})}})}}).addTo(e);t.push(a)}),()=>{t.forEach(t=>e.removeLayer(t))}},[e,n,r,o,a,i,u,s,d,f,p,m,y]),null},O=function(e,t){var n;return n=h(y(e,t)),(0,l.forwardRef)(function(e,t){let{instance:r,context:a}=n(e).current;(0,l.useImperativeHandle)(t,()=>r);let{children:i}=e;return null==i?null:l.createElement(o,{value:a},i)})}(function({position:e,...t},n){var r;let l=new i.Marker(e,t);return m(l,(r={overlayContainer:l},Object.freeze({...n,...r})))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),R=function(e,t){var n,r;return n=y(e),r=function(e,r){let l=a(),o=n(p(e,l),l);return d(l.map,e.attribution),f(o.current,e.eventHandlers),t(o.current,l,e,r),o},(0,l.forwardRef)(function(e,t){let[n,o]=(0,l.useState)(!1),{instance:a}=r(e,o).current;(0,l.useImperativeHandle)(t,()=>a),(0,l.useEffect)(function(){n&&a.update()},[a,n,e.children]);let i=a._contentNode;return i?(0,s.createPortal)(e.children,i):null})}(function(e,t){return m(new i.Popup(e,t.overlayContainer),t)},function(e,t,{position:n},r){(0,l.useEffect)(function(){let{instance:l}=e;function o(e){e.popup===l&&(l.update(),r(!0))}function a(e){e.popup===l&&r(!1)}return t.map.on({popupopen:o,popupclose:a}),null==t.overlayContainer?(null!=n&&l.setLatLng(n),l.openOn(t.map)):t.overlayContainer.bindPopup(l),function(){t.map.off({popupopen:o,popupclose:a}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(l)}},[e,t,r,n])});var S=n(71),B=n(1055),k=n(5751),F=n(2811),I=B.x.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0},css:{classes:{root:"p-card p-component",header:"p-card-header",title:"p-card-title",subTitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer",body:"p-card-body"},styles:"\n@layer primereact {\n    .p-card-header img {\n        width: 100%;\n    }\n}\n"}}),T=l.forwardRef(function(e,t){var n,r,o,a,i,c,u,s,d,f,p=(0,k.qV)(),m=l.useContext(S.UM),y=I.getProps(e,m),h=l.useRef(t),g=I.setMetaData({props:y}),v=g.ptm,x=g.cx,b=g.isUnstyled;(0,B.j)(I.css.styles,b,{name:"card"}),l.useEffect(function(){F.BF.combinedRefs(h,t)},[h,t]);var C=p({id:y.id,ref:h,style:y.style,className:(0,F.xW)(y.className,x("root"))},I.getOtherProps(y),v("root")),E=(n=p({className:x("header")},v("header")),y.header?l.createElement("div",n,F.BF.getJSXElement(y.header,y)):null),w=(r=p({className:x("title")},v("title")),o=y.title&&l.createElement("div",r,F.BF.getJSXElement(y.title,y)),a=p({className:x("subTitle")},v("subTitle")),i=y.subTitle&&l.createElement("div",a,F.BF.getJSXElement(y.subTitle,y)),c=p({className:x("content")},v("content")),u=y.children&&l.createElement("div",c,y.children),s=p({className:x("footer")},v("footer")),d=y.footer&&l.createElement("div",s,F.BF.getJSXElement(y.footer,y)),f=p({className:x("body")},v("body")),l.createElement("div",f,o,i,u,d));return l.createElement("div",C,E,w)});T.displayName="Card";var P=n(29),A=n(3026);let H=()=>{let{dataProduct:e,selectedProductId:t,setSelectedProductId:n,selectedProduct:o,setSelectedProduct:a,hoverProductId:i,setHoverProductId:u,filteredProduct:s,setFilteredProduct:d}=(0,l.useContext)(x.F);return(0,r.jsx)(r.Fragment,{children:s.map(e=>(0,r.jsx)(O,{position:[e.lat,e.lng],icon:((e,t)=>c().divIcon({className:"price-marker",html:'<div style="\n     background:'.concat(t?"#000":"#fff",";\n     color:").concat(t?"#fff":"#000",';\n     border-radius:12px;\n     font-weight:bold;\n     font-size:14px;\n     text-align:center;\n     border:1px solid rgba(0,0,0,0.1);\n  ">').concat(e.price,"</div>"),iconSize:[50,30],iconAnchor:[25,15]}))(e,i===e.id),eventHandlers:{click:()=>a(e),mouseover:()=>u(e.id),mouseout:()=>u(null)},children:(0,r.jsx)(R,{maxWidth:200,maxHeight:350,children:(0,r.jsxs)(T,{className:"p-card product-popup-card",style:{padding:0,border:"none"},children:[(0,r.jsxs)("div",{className:"flex flex-column align-items-center gap-2",children:[(0,r.jsx)(A._,{className:"w-9 shadow-2 border-round",src:e.image,alt:e.name,width:"100%",preview:!0}),(0,r.jsx)("div",{style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:"1rem",lineHeight:"1.2rem",height:"2.4rem",fontWeight:300},children:e.name}),(0,r.jsx)("div",{className:"flex align-items-start justify-content-between w-full",children:(0,r.jsxs)("span",{className:"font-semibold",children:["Location: ",e.location]})})]}),(0,r.jsxs)("div",{className:"flex align-items-center justify-content-between",children:[(0,r.jsx)("span",{className:"font-semibold",children:e.price}),(0,r.jsx)(P.$,{icon:"pi pi-shopping-cart",className:"p-button-rounded",disabled:"Rejected"===e.status})]})]})})},e.id))})},_=l.memo(()=>{let{darkMode:e,setDarkMode:t,mobileDevice:n,setMobileDevice:o,mobilePanel:a,setMobilePanel:i,selectedLanguage:c,setSelectedLanguage:s,language:d,setLanguage:f,selectedProduct:p,setSelectedProduct:m,product:y,setProduct:h,selectedCity:v,setSelectedCity:b,city:C,setCity:E,selectedCategory:j,setSelectedCategory:O,category:R,setCategory:S,selectedColor:B,setSelectedColor:k,color:F,setColor:I,selectedGender:T,setSelectedGender:P,gender:A,setGender:_,geoLocation:M,setGeoLocation:V,geoZoomView:D,setGeoZoomView:U,geoInitialView:W,setGeoInitialView:J,selectedProductId:X,setSelectedProductId:Z,hoverProductId:q,setHoverProductId:G}=(0,l.useContext)(x.F);return(0,r.jsxs)(u,{center:W,zoom:D,scrollWheelZoom:!0,zoomControl:!0,style:{height:"100%",width:"100%"},children:[(0,r.jsx)(g,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,r.jsx)(w,{}),(0,r.jsx)(z,{}),(0,r.jsx)(N,{}),(0,r.jsx)(L,{}),(0,r.jsx)(H,{})]})})}}]);