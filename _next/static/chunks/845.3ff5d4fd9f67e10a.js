(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[845],{1845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(5155),o=n(2115);let l=(0,o.createContext)(null);function a(){let e=(0,o.use)(l);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var u=n(5027),i=n.n(u);let c=(0,o.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:a,id:i,placeholder:c,style:s,whenReady:f,zoom:d,...p},m){let[y]=(0,o.useState)({className:a,id:i,style:s}),[C,h]=(0,o.useState)(null),v=(0,o.useRef)(void 0);(0,o.useImperativeHandle)(m,()=>C?.map??null,[C]);let x=(0,o.useCallback)(r=>{if(null!==r&&!v.current){let o=new u.Map(r,p);v.current=o,null!=n&&null!=d?o.setView(n,d):null!=e&&o.fitBounds(e,t),null!=f&&o.whenReady(f),h(Object.freeze({__version:1,map:o}))}},[]);(0,o.useEffect)(()=>()=>{C?.map.remove()},[C]);let g=C?o.createElement(l,{value:C},r):c??null;return o.createElement("div",{...y,ref:x},g)});function s(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}n(7650);let f=function(e,t){var n,r;return n=null==t?function(t,n){let r=(0,o.useRef)(void 0);return r.current||(r.current=e(t,n)),r}:function(n,r){let l=(0,o.useRef)(void 0);l.current||(l.current=e(n,r));let a=(0,o.useRef)(n),{instance:u}=l.current;return(0,o.useEffect)(function(){a.current!==n&&(t(u,n,a.current),a.current=n)},[u,n,t]),l},r=function(e){var t;let r=a(),l=n(s(e,r),r);return!function(e,t){let n=(0,o.useRef)(t);(0,o.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}(r.map,e.attribution),!function(e,t){let n=(0,o.useRef)(void 0);(0,o.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}(l.current,e.eventHandlers),t=l.current,(0,o.useEffect)(function(){return(r.layerContainer??r.map).addLayer(t.instance),function(){r.layerContainer?.removeLayer(t.instance),r.map.removeLayer(t.instance)}},[r,t]),l},(0,o.forwardRef)(function(e,t){let{instance:n}=r(e).current;return(0,o.useImperativeHandle)(t,()=>n),null})}(function({url:e,...t},n){return Object.freeze({instance:new u.TileLayer(e,s(t,n)),context:n,container:void 0})},function(e,t,n){let{opacity:r,zIndex:o}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=o&&o!==n.zIndex&&e.setZIndex(o);let{url:l}=t;null!=l&&l!==n.url&&e.setUrl(l)});function d(){return a().map}n(5603),n(8682);var p=n(953),m=n(2669),y=n(645);let C=(0,y.A)((0,r.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay"),h=()=>{let e=d(),{darkMode:t,setDarkMode:n,mobileDevice:l,setMobileDevice:a,mobilePanel:u,setMobilePanel:c,selectedLanguage:s,setSelectedLanguage:f,language:y,setLanguage:h,selectedProduct:v,setSelectedProduct:x,product:g,setProduct:E,selectedCity:b,setSelectedCity:w,city:j,setCity:z,selectedCategory:R,setSelectedCategory:B,category:L,setCategory:S,selectedColor:A,setSelectedColor:k,color:O,setColor:F,selectedGender:V,setSelectedGender:T,gender:D,setGender:I,geoLocation:M,setGeoLocation:_,geoZoomView:P,setGeoZoomView:H,geoInitialView:N,setGeoInitialView:U}=(0,o.useContext)(p.F);return(0,o.useEffect)(()=>{let t=document.querySelector(".leaflet-control-zoom");if(!t)return;let n=i().DomUtil.create("a","leaflet-control-zoom-reset",t);n.href="#",n.title="Return to default view",n.classList.add("leaflet-control-zoom-in"),n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.width="30px",n.style.height="30px",n.style.fontSize="30px",n.style.cursor="pointer";let o=document.createElement("span");n.appendChild(o);let l=(0,m.createRoot)(o);return l.render((0,r.jsx)(C,{sx:{fontSize:20,color:"#000"}})),n.onclick=t=>{t.preventDefault(),e.setView(N,P,{animate:!0})},()=>{t.contains(n)&&t.removeChild(n),l.unmount()}},[e,U,H]),null},v=(0,y.A)((0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),x=()=>{let e=d();return(0,o.useEffect)(()=>{let t=document.querySelector(".leaflet-control-zoom");if(!t)return;let n=i().DomUtil.create("a","leaflet-control-zoom-location leaflet-control-zoom-in",t);n.href="#",n.title="Show my location",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.width="30px",n.style.height="30px",n.style.fontSize="30px",n.style.cursor="pointer";let o=document.createElement("span");n.appendChild(o);let l=(0,m.createRoot)(o);return l.render((0,r.jsx)(v,{sx:{fontSize:20,color:"#000"}})),n.onclick=t=>{if(t.preventDefault(),!navigator.geolocation)return void alert("Geolocation not supported");navigator.geolocation.getCurrentPosition(t=>{let{latitude:n,longitude:r}=t.coords;e.panTo([n,r],{animate:!0}),i().circleMarker([n,r],{radius:8,weight:2,color:"#00473C",fillColor:"#057642",fillOpacity:.7}).addTo(e)},()=>{alert("Unable to get your location")})},()=>{t.contains(n)&&t.removeChild(n),l.unmount()}},[e]),null},g=()=>{let e=d(),{darkMode:t,setDarkMode:n,mobileDevice:r,setMobileDevice:l,mobilePanel:a,setMobilePanel:u,selectedLanguage:c,setSelectedLanguage:s,language:f,setLanguage:m,selectedProduct:y,setSelectedProduct:C,product:h,setProduct:v,selectedCity:x,setSelectedCity:g,city:E,setCity:b,selectedCategory:w,setSelectedCategory:j,category:z,setCategory:R,selectedColor:B,setSelectedColor:L,color:S,setColor:A,selectedGender:k,setSelectedGender:O,gender:F,setGender:V,geoLocation:T,setGeoLocation:D,geoZoomView:I,setGeoZoomView:M,geoInitialView:_,setGeoInitialView:P,geoPortugal:H,setGeoPortugal:N}=(0,o.useContext)(p.F);return(0,o.useEffect)(()=>{if(!e)return;let t=H.features[0].geometry,n=[];if("Polygon"===t.type){let e=t.coordinates[0].map(e=>{let[t,n]=e;return[n,t]});n.push(e)}else"MultiPolygon"===t.type&&t.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,n]=e;return[n,t]});n.push(t)});let r=n.map(t=>i().polygon(t,{color:"#00473C",weight:3,fillColor:"#057642",fillOpacity:.25}).addTo(e));return()=>{r.forEach(t=>e.removeLayer(t))}},[e]),null},E=()=>{let e=d(),{geoPortugal:t,geoLisbon:n,geoPorto:r,geoFaro:l,geoCoimbra:a,geoBraga:u,geoBraganca:c,geoLeiria:s,geoGuarda:f,geoBeja:m,geoViana:y,geoVilaReal:C,geoSetubal:h}=(0,o.useContext)(p.F),v={Lisbon:n,Porto:r,Faro:l,Coimbra:a,Braga:u,Braganca:c,Leiria:s,Guarda:f,Beja:m,Viana:y,VilaReal:C,Setubal:h},x={Lisbon:"#1A73E8",Porto:"#E91E63",Faro:"#F57C00",Coimbra:"#43A047",Braga:"#8E24AA",Braganca:"#39CCCC",Leiria:"#0097A7",Guarda:"#C62828",Beja:"#6D4C41",Viana:"#0D47A1",VilaReal:"#7CB342",Setubal:"#673AB7"};return(0,o.useEffect)(()=>{if(!e)return;let t=[];return Object.keys(v).forEach(n=>{let r=v[n];if(!r)return;let o={color:x[n]||"#000",weight:3,fillColor:x[n]||"#000",fillOpacity:.1},l={weight:6,fillOpacity:.3},a=i().geoJSON(r,{style:o,onEachFeature:(t,r)=>{r.bindTooltip(n,{permanent:!1,direction:"top",opacity:.9}),r.on({mouseover:()=>{r.setStyle(l),i().Browser.ie||i().Browser.opera||i().Browser.edge||r.bringToFront()},mouseout:()=>{r.setStyle(o)},click:()=>{let t=r.getBounds();e.fitBounds(t,{padding:[30,30],maxZoom:11,animate:!0})}})}}).addTo(e);t.push(a)}),()=>{t.forEach(t=>e.removeLayer(t))}},[e,n,r,l,a,u,c,s,f,m,y,C,h]),null},b=o.memo(()=>{let{darkMode:e,setDarkMode:t,mobileDevice:n,setMobileDevice:l,mobilePanel:a,setMobilePanel:u,selectedLanguage:i,setSelectedLanguage:s,language:d,setLanguage:m,selectedProduct:y,setSelectedProduct:C,product:v,setProduct:b,selectedCity:w,setSelectedCity:j,city:z,setCity:R,selectedCategory:B,setSelectedCategory:L,category:S,setCategory:A,selectedColor:k,setSelectedColor:O,color:F,setColor:V,selectedGender:T,setSelectedGender:D,gender:I,setGender:M,geoLocation:_,setGeoLocation:P,geoZoomView:H,setGeoZoomView:N,geoInitialView:U,setGeoInitialView:G}=(0,o.useContext)(p.F);return(0,r.jsxs)(c,{center:U,zoom:H,scrollWheelZoom:!0,zoomControl:!0,style:{height:"100%",width:"100%"},children:[(0,r.jsx)(f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,r.jsx)(h,{}),(0,r.jsx)(x,{}),(0,r.jsx)(g,{}),(0,r.jsx)(E,{})]})})},5603:()=>{},8682:()=>{}}]);